-- Ducky Auto Defense v1.0 - ULTRA PREMIUM EDITION
-- Automatic base protection system
-- Created by Ducky Team - discord.gg/duGj8hjB

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local player = Players.LocalPlayer

print("üõ°Ô∏è Ducky Auto Defense v1.0 loading...")

-- Premium Color Palette (matching main hub)
local COLORS = {
	PRIMARY = Color3.fromRGB(99, 102, 241),
	PRIMARY_LIGHT = Color3.fromRGB(129, 140, 248),
	PRIMARY_DARK = Color3.fromRGB(79, 70, 229),
	PRIMARY_GLOW = Color3.fromRGB(139, 150, 255),
	
	ACCENT = Color3.fromRGB(236, 72, 153),
	ACCENT_LIGHT = Color3.fromRGB(251, 113, 133),
	ACCENT_DARK = Color3.fromRGB(219, 39, 119),
	
	SUCCESS = Color3.fromRGB(34, 197, 94),
	SUCCESS_GLOW = Color3.fromRGB(74, 222, 128),
	WARNING = Color3.fromRGB(251, 146, 60),
	DANGER = Color3.fromRGB(239, 68, 68),
	
	BG_GLASS = Color3.fromRGB(15, 23, 42),
	BG_GLASS_LIGHT = Color3.fromRGB(30, 41, 59),
	BG_DARK = Color3.fromRGB(2, 6, 23),
	BG_CARD = Color3.fromRGB(20, 28, 48),
	
	TEXT = Color3.fromRGB(248, 250, 252),
	TEXT_MUTED = Color3.fromRGB(148, 163, 184),
	TEXT_DARK = Color3.fromRGB(100, 116, 139),
}

-- Animation presets
local ANIM = {
	INSTANT = TweenInfo.new(0.15, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
	FAST = TweenInfo.new(0.25, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
	SMOOTH = TweenInfo.new(0.4, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut),
	BOUNCE = TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.Out),
	ELASTIC = TweenInfo.new(0.7, Enum.EasingStyle.Elastic, Enum.EasingDirection.Out),
}

-- Defense Settings
local defenseEnabled = false
local defenseRange = 50
local autoKickIntruders = true
local useAdminCommands = true
local notifyOnIntruder = true
local defenseCommands = {"balloon", "ragdoll", "jail", "jumpscare", "inverse"} -- Subset of admin commands
local detectionConnections = {}
local intruderCooldowns = {}

-- Create UI
local gui = Instance.new("ScreenGui")
gui.Name = "DuckyAutoDefense"
gui.ResetOnSpawn = false
gui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
gui.DisplayOrder = 9998

local success, playerGui = pcall(function()
	return player:WaitForChild("PlayerGui", 5)
end)

if success and playerGui then
	gui.Parent = playerGui
else
	warn("‚ö†Ô∏è Could not find PlayerGui")
	return
end

-- Main Defense Panel
local defensePanel = Instance.new("Frame", gui)
defensePanel.Size = UDim2.fromOffset(380, 520)
defensePanel.Position = UDim2.new(0.5, -190, 0.5, -260)
defensePanel.BackgroundColor3 = COLORS.BG_GLASS
defensePanel.BackgroundTransparency = 0.12
defensePanel.BorderSizePixel = 0
defensePanel.Active = true
defensePanel.ClipsDescendants = true

local panelCorner = Instance.new("UICorner", defensePanel)
panelCorner.CornerRadius = UDim.new(0, 24)

local panelStroke = Instance.new("UIStroke", defensePanel)
panelStroke.Color = COLORS.DANGER
panelStroke.Thickness = 2.5
panelStroke.Transparency = 0.25

-- Panel glow
local panelGlow = Instance.new("ImageLabel", defensePanel)
panelGlow.Size = UDim2.fromScale(1.02, 1.02)
panelGlow.Position = UDim2.fromScale(0.5, 0.5)
panelGlow.AnchorPoint = Vector2.new(0.5, 0.5)
panelGlow.BackgroundTransparency = 1
panelGlow.Image = "rbxassetid://5028857084"
panelGlow.ImageColor3 = COLORS.DANGER
panelGlow.ImageTransparency = 0.5
panelGlow.ScaleType = Enum.ScaleType.Slice
panelGlow.SliceCenter = Rect.new(24, 24, 276, 276)
panelGlow.ZIndex = 0

-- Animated border glow
spawn(function()
	while gui.Parent do
		TweenService:Create(panelStroke, TweenInfo.new(2, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
			Color = COLORS.WARNING,
			Transparency = 0.15
		}):Play()
		TweenService:Create(panelGlow, TweenInfo.new(2, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
			ImageColor3 = COLORS.WARNING,
			ImageTransparency = 0.4
		}):Play()
		task.wait(2)
		if not gui.Parent then break end
		TweenService:Create(panelStroke, TweenInfo.new(2, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
			Color = COLORS.DANGER,
			Transparency = 0.25
		}):Play()
		TweenService:Create(panelGlow, TweenInfo.new(2, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
			ImageColor3 = COLORS.DANGER,
			ImageTransparency = 0.5
		}):Play()
		task.wait(2)
	end
end)

-- Draggable functionality
local dragging, dragInput, mousePos, framePos

defensePanel.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		dragging = true
		mousePos = input.Position
		framePos = defensePanel.Position
		
		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragging = false
			end
		end)
	end
end)

UserInputService.InputChanged:Connect(function(input)
	if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
		local delta = input.Position - mousePos
		TweenService:Create(defensePanel, ANIM.INSTANT, {
			Position = UDim2.new(
				framePos.X.Scale, framePos.X.Offset + delta.X,
				framePos.Y.Scale, framePos.Y.Offset + delta.Y
			)
		}):Play()
	end
end)

-- Header
local header = Instance.new("Frame", defensePanel)
header.Size = UDim2.fromOffset(380, 100)
header.BackgroundColor3 = COLORS.BG_CARD
header.BackgroundTransparency = 0.3
header.BorderSizePixel = 0

local headerCorner = Instance.new("UICorner", header)
headerCorner.CornerRadius = UDim.new(0, 24)

-- Header gradient
local headerGrad = Instance.new("Frame", header)
headerGrad.Size = UDim2.fromScale(1, 0.5)
headerGrad.BackgroundColor3 = COLORS.DANGER
headerGrad.BackgroundTransparency = 0.88
headerGrad.BorderSizePixel = 0

local headerGradCorner = Instance.new("UICorner", headerGrad)
headerGradCorner.CornerRadius = UDim.new(0, 24)

local headerGradGrad = Instance.new("UIGradient", headerGrad)
headerGradGrad.Transparency = NumberSequence.new({
	NumberSequenceKeypoint.new(0, 0),
	NumberSequenceKeypoint.new(1, 1)
})
headerGradGrad.Rotation = 90

-- Shield icon
local shieldIcon = Instance.new("TextLabel", header)
shieldIcon.Size = UDim2.fromOffset(60, 60)
shieldIcon.Position = UDim2.fromOffset(10, 10)
shieldIcon.BackgroundTransparency = 1
shieldIcon.Text = "üõ°Ô∏è"
shieldIcon.Font = Enum.Font.GothamBold
shieldIcon.TextSize = 48
shieldIcon.ZIndex = 2

-- Pulsing shield animation
spawn(function()
	while gui.Parent do
		TweenService:Create(shieldIcon, TweenInfo.new(1.5, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
			TextSize = 52,
			Rotation = 5
		}):Play()
		task.wait(1.5)
		if not gui.Parent then break end
		TweenService:Create(shieldIcon, TweenInfo.new(1.5, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
			TextSize = 48,
			Rotation = -5
		}):Play()
		task.wait(1.5)
	end
end)

local titleLabel = Instance.new("TextLabel", header)
titleLabel.Size = UDim2.fromOffset(280, 32)
titleLabel.Position = UDim2.fromOffset(80, 15)
titleLabel.BackgroundTransparency = 1
titleLabel.Text = "AUTO DEFENSE"
titleLabel.Font = Enum.Font.GothamBold
titleLabel.TextSize = 22
titleLabel.TextColor3 = COLORS.TEXT
titleLabel.TextXAlignment = Enum.TextXAlignment.Left
titleLabel.ZIndex = 2

local subtitle = Instance.new("TextLabel", header)
subtitle.Size = UDim2.fromOffset(280, 20)
subtitle.Position = UDim2.fromOffset(80, 50)
subtitle.BackgroundTransparency = 1
subtitle.Text = "Automatic Base Protection"
subtitle.Font = Enum.Font.Gotham
subtitle.TextSize = 12
subtitle.TextColor3 = COLORS.TEXT_MUTED
subtitle.TextXAlignment = Enum.TextXAlignment.Left
subtitle.ZIndex = 2

-- Status badge
local statusBadge = Instance.new("Frame", header)
statusBadge.Size = UDim2.fromOffset(85, 30)
statusBadge.Position = UDim2.fromOffset(80, 72)
statusBadge.BackgroundColor3 = COLORS.DANGER
statusBadge.BackgroundTransparency = 0.15
statusBadge.BorderSizePixel = 0
statusBadge.ZIndex = 2

local statusCorner = Instance.new("UICorner", statusBadge)
statusCorner.CornerRadius = UDim.new(0, 10)

local statusStroke = Instance.new("UIStroke", statusBadge)
statusStroke.Color = COLORS.DANGER
statusStroke.Thickness = 1.5
statusStroke.Transparency = 0.4

local statusText = Instance.new("TextLabel", statusBadge)
statusText.Size = UDim2.fromScale(1, 1)
statusText.BackgroundTransparency = 1
statusText.Text = "INACTIVE"
statusText.Font = Enum.Font.GothamBold
statusText.TextSize = 12
statusText.TextColor3 = COLORS.TEXT
statusText.ZIndex = 3

-- Close button
local closeBtn = Instance.new("TextButton", header)
closeBtn.Size = UDim2.fromOffset(40, 40)
closeBtn.Position = UDim2.fromOffset(330, 10)
closeBtn.BackgroundColor3 = COLORS.DANGER
closeBtn.BackgroundTransparency = 0.8
closeBtn.Text = "‚úï"
closeBtn.Font = Enum.Font.GothamBold
closeBtn.TextSize = 20
closeBtn.TextColor3 = COLORS.TEXT
closeBtn.BorderSizePixel = 0
closeBtn.AutoButtonColor = false
closeBtn.ZIndex = 2

local closeBtnCorner = Instance.new("UICorner", closeBtn)
closeBtnCorner.CornerRadius = UDim.new(0, 12)

closeBtn.MouseEnter:Connect(function()
	TweenService:Create(closeBtn, ANIM.SMOOTH, {BackgroundTransparency = 0, Rotation = 90}):Play()
end)

closeBtn.MouseLeave:Connect(function()
	TweenService:Create(closeBtn, ANIM.SMOOTH, {BackgroundTransparency = 0.8, Rotation = 0}):Play()
end)

closeBtn.MouseButton1Click:Connect(function()
	TweenService:Create(defensePanel, TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {
		Size = UDim2.fromOffset(0, 0),
		Position = UDim2.new(0.5, 0, 0.5, 0),
		BackgroundTransparency = 1
	}):Play()
	
	task.wait(0.4)
	gui:Destroy()
	print("üëã Ducky Auto Defense closed")
end)

-- Content area
local content = Instance.new("ScrollingFrame", defensePanel)
content.Size = UDim2.fromOffset(360, 400)
content.Position = UDim2.fromOffset(10, 110)
content.BackgroundTransparency = 1
content.BorderSizePixel = 0
content.ScrollBarThickness = 5
content.ScrollBarImageColor3 = COLORS.DANGER
content.ScrollBarImageTransparency = 0.4
content.CanvasSize = UDim2.fromOffset(360, 0)
content.AutomaticCanvasSize = Enum.AutomaticSize.Y

local contentLayout = Instance.new("UIListLayout", content)
contentLayout.SortOrder = Enum.SortOrder.LayoutOrder
contentLayout.Padding = UDim.new(0, 12)

local contentPadding = Instance.new("UIPadding", content)
contentPadding.PaddingTop = UDim.new(0, 8)
contentPadding.PaddingBottom = UDim.new(0, 8)

-- Helper: Create toggle
local function createToggle(text, description, defaultState)
	local container = Instance.new("Frame", content)
	container.Size = UDim2.fromOffset(360, description and 80 or 60)
	container.BackgroundColor3 = COLORS.BG_CARD
	container.BackgroundTransparency = 0.35
	container.BorderSizePixel = 0
	
	local corner = Instance.new("UICorner", container)
	corner.CornerRadius = UDim.new(0, 14)
	
	local stroke = Instance.new("UIStroke", container)
	stroke.Color = COLORS.PRIMARY
	stroke.Thickness = 1.5
	stroke.Transparency = 0.65
	
	local label = Instance.new("TextLabel", container)
	label.Size = UDim2.fromOffset(240, 22)
	label.Position = UDim2.fromOffset(15, description and 14 or 19)
	label.BackgroundTransparency = 1
	label.Text = text
	label.Font = Enum.Font.GothamBold
	label.TextSize = 14
	label.TextColor3 = COLORS.TEXT
	label.TextXAlignment = Enum.TextXAlignment.Left
	
	if description then
		local desc = Instance.new("TextLabel", container)
		desc.Size = UDim2.fromOffset(240, 36)
		desc.Position = UDim2.fromOffset(15, 40)
		desc.BackgroundTransparency = 1
		desc.Text = description
		desc.Font = Enum.Font.Gotham
		desc.TextSize = 11
		desc.TextColor3 = COLORS.TEXT_MUTED
		desc.TextXAlignment = Enum.TextXAlignment.Left
		desc.TextWrapped = true
	end
	
	local toggleBg = Instance.new("Frame", container)
	toggleBg.Size = UDim2.fromOffset(60, 32)
	toggleBg.Position = UDim2.fromOffset(285, description and 24 or 14)
	toggleBg.BackgroundColor3 = defaultState and COLORS.SUCCESS or COLORS.BG_GLASS
	toggleBg.BorderSizePixel = 0
	
	local toggleCorner = Instance.new("UICorner", toggleBg)
	toggleCorner.CornerRadius = UDim.new(1, 0)
	
	local toggleStroke = Instance.new("UIStroke", toggleBg)
	toggleStroke.Color = defaultState and COLORS.SUCCESS_GLOW or COLORS.TEXT_DARK
	toggleStroke.Thickness = 2
	toggleStroke.Transparency = defaultState and 0.2 or 0.5
	
	local toggleCircle = Instance.new("Frame", toggleBg)
	toggleCircle.Size = UDim2.fromOffset(26, 26)
	toggleCircle.Position = UDim2.fromOffset(defaultState and 31 or 3, 3)
	toggleCircle.BackgroundColor3 = COLORS.TEXT
	toggleCircle.BorderSizePixel = 0
	
	local circleCorner = Instance.new("UICorner", toggleCircle)
	circleCorner.CornerRadius = UDim.new(1, 0)
	
	local toggleBtn = Instance.new("TextButton", container)
	toggleBtn.Size = container.Size
	toggleBtn.BackgroundTransparency = 1
	toggleBtn.Text = ""
	toggleBtn.AutoButtonColor = false
	
	local isOn = defaultState
	
	local function toggle()
		isOn = not isOn
		
		if isOn then
			TweenService:Create(toggleBg, ANIM.SMOOTH, {BackgroundColor3 = COLORS.SUCCESS}):Play()
			TweenService:Create(toggleStroke, ANIM.SMOOTH, {Color = COLORS.SUCCESS_GLOW, Transparency = 0.2}):Play()
			TweenService:Create(toggleCircle, ANIM.ELASTIC, {Position = UDim2.fromOffset(31, 3)}):Play()
			TweenService:Create(container, ANIM.SMOOTH, {BackgroundTransparency = 0.25}):Play()
			TweenService:Create(stroke, ANIM.SMOOTH, {Color = COLORS.SUCCESS, Transparency = 0.4}):Play()
		else
			TweenService:Create(toggleBg, ANIM.SMOOTH, {BackgroundColor3 = COLORS.BG_GLASS}):Play()
			TweenService:Create(toggleStroke, ANIM.SMOOTH, {Color = COLORS.TEXT_DARK, Transparency = 0.5}):Play()
			TweenService:Create(toggleCircle, ANIM.ELASTIC, {Position = UDim2.fromOffset(3, 3)}):Play()
			TweenService:Create(container, ANIM.SMOOTH, {BackgroundTransparency = 0.35}):Play()
			TweenService:Create(stroke, ANIM.SMOOTH, {Color = COLORS.PRIMARY, Transparency = 0.65}):Play()
		end
		
		return isOn
	end
	
	toggleBtn.MouseButton1Click:Connect(toggle)
	
	return toggleBtn, function() return isOn end, toggle
end

-- Helper: Send chat message for admin commands
local function sendChatMessage(message)
	local TextChatService = game:GetService("TextChatService")
	
	pcall(function()
		local textChannel = TextChatService:WaitForChild("TextChannels"):WaitForChild("RBXGeneral", 5)
		if textChannel then
			textChannel:SendAsync(message)
		end
	end)
	
	pcall(function()
		local ChatService = game:GetService("Chat")
		if player and player.Character then
			ChatService:Chat(player.Character, message)
		end
	end)
	
	pcall(function()
		local sayMessageRequest = ReplicatedStorage:FindFirstChild("DefaultChatSystemChatEvents")
			and ReplicatedStorage.DefaultChatSystemChatEvents:FindFirstChild("SayMessageRequest")
		if sayMessageRequest then
			sayMessageRequest:FireServer(message, "All")
		end
	end)
end

-- Defense logic
local function executeDefenseOnIntruder(intruder)
	if not intruder or not intruder.Parent then return end
	
	-- Cooldown check
	local cooldownKey = intruder.Name
	if intruderCooldowns[cooldownKey] and tick() - intruderCooldowns[cooldownKey] < 10 then
		return
	end
	intruderCooldowns[cooldownKey] = tick()
	
	-- Notification
	if notifyOnIntruder then
		print(string.format("üö® INTRUDER DETECTED: %s", intruder.Name))
	end
	
	-- Execute defense commands
	if useAdminCommands then
		for _, cmd in pairs(defenseCommands) do
			pcall(function()
				local chatCommand = ";" .. cmd .. " " .. string.lower(intruder.Name)
				sendChatMessage(chatCommand)
			end)
			task.wait(0.15)
		end
	end
end

-- Find player base
local function findPlayerBase()
	local plotsFolder = workspace:FindFirstChild("Plots")
	if not plotsFolder then return nil end
	
	for _, plot in pairs(plotsFolder:GetChildren()) do
		if plot:IsA("Model") then
			local ownerValue = plot:FindFirstChild("Owner", true)
			if ownerValue then
				local ownerName = ""
				if ownerValue:IsA("StringValue") then
					ownerName = ownerValue.Value
				elseif ownerValue:IsA("ObjectValue") and ownerValue.Value then
					if ownerValue.Value:IsA("Player") then
						ownerName = ownerValue.Value.Name
					end
				end
				
				if ownerName == player.Name then
					return plot
				end
			end
		end
	end
	
	return nil
end

-- Start defense monitoring
local function startDefense()
	-- Clear existing connections
	for _, conn in pairs(detectionConnections) do
		if conn and typeof(conn) == "RBXScriptConnection" then
			conn:Disconnect()
		end
	end
	detectionConnections = {}
	
	local myBase = findPlayerBase()
	if not myBase then
		warn("‚ö†Ô∏è Could not find your base!")
		return false
	end
	
	local baseCenter = myBase:GetPivot().Position
	
	-- Monitor for intruders
	local detectConnection = RunService.Heartbeat:Connect(function()
		if not defenseEnabled then return end
		
		for _, otherPlayer in pairs(Players:GetPlayers()) do
			if otherPlayer ~= player and otherPlayer.Character then
				local otherHRP = otherPlayer.Character:FindFirstChild("HumanoidRootPart")
				if otherHRP then
					local distance = (otherHRP.Position - baseCenter).Magnitude
					
					if distance <= defenseRange then
						executeDefenseOnIntruder(otherPlayer)
					end
				end
			end
		end
	end)
	
	table.insert(detectionConnections, detectConnection)
	return true
end

-- Stop defense
local function stopDefense()
	for _, conn in pairs(detectionConnections) do
		if conn and typeof(conn) == "RBXScriptConnection" then
			conn:Disconnect()
		end
	end
	detectionConnections = {}
end

-- Master toggle
local masterToggle = createToggle(
	"üõ°Ô∏è ENABLE DEFENSE",
	"Activate automatic base protection system",
	false
)

masterToggle.MouseButton1Click:Connect(function()
	defenseEnabled = not defenseEnabled
	
	if defenseEnabled then
		local success = startDefense()
		if success then
			statusText.Text = "ACTIVE"
			TweenService:Create(statusBadge, ANIM.SMOOTH, {BackgroundColor3 = COLORS.SUCCESS}):Play()
			TweenService:Create(statusStroke, ANIM.SMOOTH, {Color = COLORS.SUCCESS_GLOW}):Play()
			print("üõ°Ô∏è Auto Defense: ACTIVE")
		else
			defenseEnabled = false
			print("‚ùå Failed to start defense")
		end
	else
		stopDefense()
		statusText.Text = "INACTIVE"
		TweenService:Create(statusBadge, ANIM.SMOOTH, {BackgroundColor3 = COLORS.DANGER}):Play()
		TweenService:Create(statusStroke, ANIM.SMOOTH, {Color = COLORS.DANGER}):Play()
		print("‚õî Auto Defense: INACTIVE")
	end
end)

-- Notification toggle
local notifyToggle = createToggle(
	"üîî NOTIFICATIONS",
	"Show alerts when intruders are detected",
	true
)

notifyToggle.MouseButton1Click:Connect(function()
	notifyOnIntruder = not notifyOnIntruder
	print("üîî Notifications:", notifyOnIntruder and "ON" or "OFF")
end)

-- Admin commands toggle
local adminToggle = createToggle(
	"‚ö° USE ADMIN CMDS",
	"Execute admin commands on intruders",
	true
)

adminToggle.MouseButton1Click:Connect(function()
	useAdminCommands = not useAdminCommands
	print("‚ö° Admin Commands:", useAdminCommands and "ON" or "OFF")
end)

-- Range info card
local rangeCard = Instance.new("Frame", content)
rangeCard.Size = UDim2.fromOffset(360, 90)
rangeCard.BackgroundColor3 = COLORS.BG_CARD
rangeCard.BackgroundTransparency = 0.35
rangeCard.BorderSizePixel = 0

local rangeCorner = Instance.new("UICorner", rangeCard)
rangeCorner.CornerRadius = UDim.new(0, 14)

local rangeStroke = Instance.new("UIStroke", rangeCard)
rangeStroke.Color = COLORS.WARNING
rangeStroke.Thickness = 1.5
rangeStroke.Transparency = 0.65

local rangeLabel = Instance.new("TextLabel", rangeCard)
rangeLabel.Size = UDim2.fromOffset(340, 24)
rangeLabel.Position = UDim2.fromOffset(15, 12)
rangeLabel.BackgroundTransparency = 1
rangeLabel.Text = "üìè DETECTION RANGE"
rangeLabel.Font = Enum.Font.GothamBold
rangeLabel.TextSize = 14
rangeLabel.TextColor3 = COLORS.TEXT
rangeLabel.TextXAlignment = Enum.TextXAlignment.Left

local rangeValue = Instance.new("TextLabel", rangeCard)
rangeValue.Size = UDim2.fromOffset(340, 36)
rangeValue.Position = UDim2.fromOffset(15, 40)
rangeValue.BackgroundTransparency = 1
rangeValue.Text = string.format("%d studs", defenseRange)
rangeValue.Font = Enum.Font.GothamBold
rangeValue.TextSize = 24
rangeValue.TextColor3 = COLORS.WARNING
rangeValue.TextXAlignment = Enum.TextXAlignment.Left

-- Info card
local infoCard = Instance.new("Frame", content)
infoCard.Size = UDim2.fromOffset(360, 100)
infoCard.BackgroundColor3 = COLORS.BG_CARD
infoCard.BackgroundTransparency = 0.35
infoCard.BorderSizePixel = 0

local infoCorner = Instance.new("UICorner", infoCard)
infoCorner.CornerRadius = UDim.new(0, 14)

local infoStroke = Instance.new("UIStroke", infoCard)
infoStroke.Color = COLORS.PRIMARY
infoStroke.Thickness = 1.5
infoStroke.Transparency = 0.65

local infoText = Instance.new("TextLabel", infoCard)
infoText.Size = UDim2.fromOffset(340, 80)
infoText.Position = UDim2.fromOffset(10, 10)
infoText.BackgroundTransparency = 1
infoText.Text = "‚ÑπÔ∏è Defense Commands:\nBalloon, Ragdoll, Jail, Jumpscare, Inverse\n\nRequires admin panel in-game!"
infoText.Font = Enum.Font.Gotham
infoText.TextSize = 12
infoText.TextColor3 = COLORS.TEXT_MUTED
infoText.TextWrapped = true
infoText.TextXAlignment = Enum.TextXAlignment.Left
infoText.TextYAlignment = Enum.TextYAlignment.Top

-- Entrance animation
defensePanel.Size = UDim2.fromOffset(0, 0)
defensePanel.Position = UDim2.new(0.5, 0, 0.5, 0)
defensePanel.BackgroundTransparency = 1

TweenService:Create(defensePanel, TweenInfo.new(0.7, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
	Size = UDim2.fromOffset(380, 520),
	Position = UDim2.new(0.5, -190, 0.5, -260),
	BackgroundTransparency = 0.12
}):Play()

task.wait(0.3)

for _, child in pairs(defensePanel:GetDescendants()) do
	if child:IsA("TextLabel") or child:IsA("TextButton") then
		TweenService:Create(child, TweenInfo.new(0.5), {TextTransparency = 0}):Play()
	end
end

print("‚úÖ Ducky Auto Defense v1.0 loaded!")
print("üõ°Ô∏è Drag the panel anywhere on screen")
print("‚ö° Enable defense to protect your base")
